# vueProject_CZSimpleStore

## 前言
- 这是一次购物实践
- 数据都是模拟~
- 源码仅供参考意义~

### 环境
- vue-cli 3.5.0


## 开始
### 布局
- header 组件
    + 移入显示菜单, 解决移开隐藏 --> 伪类

### 首页业务逻辑
- 商品列表组件
    + 商品项以组件方式独立
    + 商品添加到购物车
        + vuex 状态管理购物车数据. 传递对象参数
            + 加入购物车  -> vuex 中购物车数据(ShoppingCarData)添加内容
            + 剔除购物车某商品 -> 剔除项
                ```js
                    shoppingOperation(state, params) {
                        if (params.type == 'addShop') {
                            let bOff = true; //  标识添加的是购物车中没有的商品
                            state.shoppingCarData.forEach(good => {
                                if (good.sku_id === params.data.sku_id) {
                                    good.count++;
                                    bOff = false;
                                    // 超过限制, 赋值最大, 商品添加弹出框状态改变
                                    if (good.count > good['limit-num']) {
                                        good.count = good['limit-num']
                                        state.shoppingAlertShow = true
                                    }
                                }
                            })
                            if (bOff) {
                                let goodData = params.data;
                                Vue.set(goodData, 'count', 1)
                                state.shoppingCarData.push(goodData)
                            }
                            console.log('添加到购物车操作')
                        } else if (params.type == 'delShop') {
                            state.shoppingCarData.forEach((item, index) => {
                                if (item.sku_id === params.data.sku_id) {
                                    state.shoppingCarData.splice(index, 1)
                                    return
                                }
                            })
                            console.log('删除购物车商品操作')
                        }
                        console.log('shoppingCarData: ' + JSON.stringify(state.shoppingCarData))
                    },
                ```
            + (CarPanel)购物车面板组件的数据渲染
                + vuex 的映射 mapState(vuex状态数据)  
                + vuex 的映射 mapGetters(vuex实时计算数据)
                + vuex 的映射 mapMutations(vuex方法调用)

            + 小球飞入购物车实现
                + 动画钩子
                    + beforeEnter
                    + enter
                    + afterEnter
                    + css样式控制
                + vuex 中的 event 对象